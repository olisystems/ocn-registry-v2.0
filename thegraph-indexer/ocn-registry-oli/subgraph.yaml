specVersion: 1.3.0
indexerHints:
  prune: auto
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: OCN_Registry_OLI
    network: gnosis
    source:
      address: "0x3469aEcd209dC77AAE1c2b7D1BED360f5DBB1863"
      abi: OCN_Registry_OLI
      startBlock: 38273709
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Party
        - Operator
        - CertificateVerifier
        - ProviderOracle
        - Registry
        - OperatorUpdate
        - OwnershipTransferred
        - PartyDelete
        - PartyUpdate
        - RoleAdminChanged
        - RoleGranted
        - RoleRevoked
        - EMPVerified
        - CPOVerified
        - OtherVerified
      abis:
        - name: OCN_Registry_OLI
          file: ./abis/OCN_Registry_OLI.json
      eventHandlers:
        - event: OperatorUpdate(indexed address,string)
          handler: handleOperatorUpdate
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: PartyDelete(bytes2,bytes3,indexed address,uint8[],string,string,uint8,uint8,bool)
          handler: handlePartyDelete
        - event: PartyUpdate(bytes2,bytes3,indexed
            address,uint8[],string,string,uint8,uint8,bool,indexed address)
          handler: handlePartyUpdate
        - event: RoleAdminChanged(indexed bytes32,indexed bytes32,indexed bytes32)
          handler: handleRoleAdminChanged
        - event: RoleGranted(indexed bytes32,indexed address,indexed address)
          handler: handleRoleGranted
        - event: RoleRevoked(indexed bytes32,indexed address,indexed address)
          handler: handleRoleRevoked
      file: ./src/ocn-registry-oli.ts
  - kind: ethereum
    name: ERC1967Proxy
    network: gnosis
    source:
      address: "0xf57f26d3CdDcef013db0fA4c0e4EF954dc5D6e5b"
      abi: ERC1967Proxy
      startBlock: 38273705
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Upgraded
      abis:
        - name: ERC1967Proxy
          file: ./abis/ERC1967Proxy.json
      eventHandlers:
        - event: Upgraded(indexed address)
          handler: handleUpgraded
      file: ./src/erc-1967-proxy.ts
  - kind: ethereum
    name: EuroStableCoin
    network: gnosis
    source:
      address: "0x52c0Bc562b58b2818c19A04124C49a35Cc28078B"
      abi: EuroStableCoin
      startBlock: 38273702
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Approval
        - Transfer
      abis:
        - name: EuroStableCoin
          file: ./abis/EuroStableCoin.json
      eventHandlers:
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
      file: ./src/euro-stable-coin.ts
  - kind: ethereum
    name: OCNGovernor
    network: gnosis
    source:
      address: "0xc3f0e688bD8B4092c093Cb0f1099A7Dc9f7019c8"
      abi: OCNGovernor
      startBlock: 38273692
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - EIP712DomainChanged
        - ProposalCanceled
        - ProposalCreated
        - ProposalExecuted
        - ProposalQueued
        - ProposalThresholdSet
        - QuorumNumeratorUpdated
        - TimelockChange
        - VoteCast
        - VoteCastWithParams
        - VotingDelaySet
        - VotingPeriodSet
      abis:
        - name: OCNGovernor
          file: ./abis/OCNGovernor.json
      eventHandlers:
        - event: EIP712DomainChanged()
          handler: handleEIP712DomainChanged
        - event: ProposalCanceled(uint256)
          handler: handleProposalCanceled
        - event: ProposalCreated(uint256,address,address[],uint256[],string[],bytes[],uint256,uint256,string)
          handler: handleProposalCreated
        - event: ProposalExecuted(uint256)
          handler: handleProposalExecuted
        - event: ProposalQueued(uint256,uint256)
          handler: handleProposalQueued
        - event: ProposalThresholdSet(uint256,uint256)
          handler: handleProposalThresholdSet
        - event: QuorumNumeratorUpdated(uint256,uint256)
          handler: handleQuorumNumeratorUpdated
        - event: TimelockChange(address,address)
          handler: handleTimelockChange
        - event: VoteCast(indexed address,uint256,uint8,uint256,string)
          handler: handleVoteCast
        - event: VoteCastWithParams(indexed address,uint256,uint8,uint256,string,bytes)
          handler: handleVoteCastWithParams
        - event: VotingDelaySet(uint256,uint256)
          handler: handleVotingDelaySet
        - event: VotingPeriodSet(uint256,uint256)
          handler: handleVotingPeriodSet
      file: ./src/ocn-governor.ts
  - kind: ethereum
    name: OCN_Certificate_Verifier
    network: gnosis
    source: 
      address: "0xc3f0e688bD8B4092c093Cb0f1099A7Dc9f7019c8"
      abi: OCN_Certificate_Verifier
      startBlock: 0
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - OtherVerified
        - CPOVerified
        - EMPVerified
      abis:
        - name: OCN_Certificate_Verifier
          file: ./abis/OCN_Certificate_Verifier.json
      eventHandlers:
        - event: OtherVerified(indexed address,string,string,address)
          handler: handleOtherVerified
        - event: CPOVerified(indexed address,string,string,address)
          handler: handleCPOVerified
        - event: EMPVerified(indexed address,string,string,string,string,string,string,address)
          handler: handleEMPVerified
      file: ./src/ocn-certificate-verifier.ts